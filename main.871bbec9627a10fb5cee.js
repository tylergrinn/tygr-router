!function(){var e={228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}},858:function(e){e.exports=function(e){if(Array.isArray(e))return e}},646:function(e,t,n){var a=n(228);e.exports=function(e){if(Array.isArray(e))return a(e)}},575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},154:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t.apply(this,arguments)}e.exports=t},860:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},884:function(e){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(a=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}}},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:function(e,t,n){var a=n(858),r=n(884),i=n(379),l=n(521);e.exports=function(e,t){return a(e)||r(e,t)||i(e,t)||l()}},319:function(e,t,n){var a=n(646),r=n(860),i=n(379),l=n(206);e.exports=function(e){return a(e)||r(e)||i(e)||l()}},8:function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},379:function(e,t,n){var a=n(228);e.exports=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}},787:function(){}},t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(154),t=n.n(e),a=n(38),r=n.n(a),i=React,l=n.n(i),o=ReactDOM,c=n.n(o),u=n(8),s=n.n(u);function d(e,t){var n=String(e);if("/"===t[0])return t;for("./"===t.slice(0,2)&&(t=t.slice(2),n=n.slice(0,n.lastIndexOf("/")));".."===t.slice(0,2);)t=t.slice(3),n=n.slice(0,n.lastIndexOf("/"));return t?"".concat(n,"/").concat(t):n||"/"}function p(e,t){for(var n=t.split(/(?=\/)/g),a=e.pages,r="",i=function(t){if(!a)return{v:e.fallback};var i=a.find((function(e){return e.path===n[t]}));if(!i)return{v:e.fallback};if(i.redirectTo)return{v:d(r,i.redirectTo)};var l=t===n.length-1;return i.children||l?(r+=i.path,i.children?void(a=i.children):{v:r}):{v:e.fallback}},l=0;l<n.length;l++){var o=i(l);if("object"===s()(o))return o.v}return r}var m=n(319),f=n.n(m);function h(e){var t=function e(t,n){return t.children?t.children.reduce((function(a,r){return a.push(n+t.path),a.push.apply(a,f()(e(r,n+t.path))),a}),[]):[n+t.path]};return e.pages.reduce((function(e,n){return e.push.apply(e,f()(t(n,""))),e}),[])}var b=n(575),E=n.n(b),v=function(e){return e.replace(/['"]/g,"")},y=function e(t){E()(this,e),"string"==typeof t?this.path=v(t):(this.path=v(t.path),this.redirectTo=t.redirectTo?v(t.redirectTo):void 0,t.children&&(this.children=t.children.map((function(t){return new e(t)}))))},j=function e(t){E()(this,e),this.baseUrl=t.baseUrl?v(t.baseUrl):"",this.fallback=t.fallback?v(t.fallback):"/",this.pages=t.pages.map((function(e){return new y(e)}))},k=(n(787),JSON.parse('{"N":{"fallback":"\'/404\'","pages":["\'/\'",{"path":"\'/i\'","children":["\'/i0\'","\'/i1\'",{"path":"\'/j\'","children":["\'/j0\'","\'/j1\'",{"path":"\'/k\'","children":["\'/k0\'","\'/k1\'"]}]}]},"\'/page1\'","\'/page2\'",{"path":"\'/redirect\'","children":[{"path":"\'/absolute\'","redirectTo":"\'/i/i0\'"},{"path":"\'/relative\'","redirectTo":"\'../i/i1\'"}]}]}}'));function x(){k.N.baseUrl="/tygr-router";var e=function(e){var t,n,a,l=(0,i.useMemo)((function(){return new j(e)}),[e]),o=(0,i.useMemo)((function(){return h(l)}),[e]),c=(0,i.useState)(o[0]),u=r()(c,2),s=u[0],m=u[1],f={"data-route-state":s},b=function(){var e=window.location.pathname.replace(l.baseUrl,""),t=p(l,e);t!==l.fallback&&l.baseUrl+t!==window.location.pathname&&history.pushState(null,t,l.baseUrl+t),m(t)};return t=window,n="popstate",a=b,(0,i.useEffect)((function(){return t.addEventListener(n,a),function(){return t.removeEventListener(n,a)}}),[t,n,a]),(0,i.useMemo)(b,[]),[f,function(e){return function(){console.log("Route",s),".."===e.slice(0,2)&&(e="../".concat(e));var t=p(l,d(s,e));history.pushState(null,t,l.baseUrl+t),m(t)}},s]}(k.N),n=r()(e,2),a=n[0],o=n[1];return l().createElement("div",null,l().createElement("div",{className:"flex-col"},l().createElement("h1",null,"Tygr Router Example"),l().createElement("nav",null,l().createElement("div",null,l().createElement("button",{onClick:o("/")},"Home (/)"),l().createElement("button",{onClick:o("/page1")},"Page 1 (/page1)"),l().createElement("button",{onClick:o("/page2")},"Page 2 (/page2)"),l().createElement("button",{onClick:o("/i/i0")},"Child 1 (/i/i0)"),l().createElement("button",{onClick:o("/i/i1")},"Child 2 (/i/i1)"),l().createElement("button",{onClick:o("/i/j/j0")},"G-Child 1 (/i/j/j0)"),l().createElement("button",{onClick:o("/i/j/j1")},"G-Child 2 (/i/j/j1)"),l().createElement("button",{onClick:o("/i/j/k/k0")},"G-G-Child 1 (/i/j/k/k0)"),l().createElement("button",{onClick:o("/i/j/k/k1")},"G-G-Child 2 (/i/j/k/k1)"),l().createElement("button",{onClick:o("/non-existing-page")},"Fallback (/non-existing/page)"),l().createElement("button",{onClick:o("/redirect/absolute")},"Absolute Redirect (/redirect/absolute)"),l().createElement("button",{onClick:o("/redirect/relative")},"Relative Redirect (/redirect/relative)"))),l().createElement("div",t()({className:"router"},a),l().createElement("div",{className:"flex-wrap info-box max-width-md"},l().createElement("h3",null,"Router"),l().createElement("span",{"data-route":"/404"},"Fallback page (/404)"),l().createElement("span",{"data-route":"/"},"Home page (/)"),l().createElement("span",{"data-route":"/page1"},"Page 1 (/page1)"),l().createElement("span",{"data-route":"/page2"},"Page 2 (/page2)"),l().createElement("span",{"data-route":"/i/i0"},"Child 1 (/i/i0)"),l().createElement("span",{"data-route":"/i/i1"},"Child 2 (/i/i1)"),l().createElement("span",{"data-route":"/i/j/j0"},"G-Child 1 (/i/j/j0)"),l().createElement("span",{"data-route":"/i/j/j1"},"G-Child 2 (/i/j/j1)"),l().createElement("span",{"data-route":"/i/j/k/k0"},"G-G-Child 1 (/i/j/k/k0)"),l().createElement("span",{"data-route":"/i/j/k/k1"},"G-G-Child 2 (/i/j/k/k1)")),l().createElement("div",{className:"info-box max-width-md flex-col"},l().createElement("h4",null,'"Starts with" syntax '),l().createElement("p",null,"Display an element on all child paths"),l().createElement("span",{"data-route":"^/i"},"Any Child (^/i)"),l().createElement("span",{"data-route":"^/i/j"},"Any G-Child (^/i/j)")),l().createElement("div",{className:"info-box flex-wrap"},l().createElement("div",{className:"max-width-md"},l().createElement("h3",null,"Partial syntax"),l().createElement("p",null,"Specify routes relative to the nearest parent element with a 'data-route' attribute. The most top level parent must use the \"starts with\" syntax.")),l().createElement("div",{className:"flex-wrap info-box","data-route":"^/i"},l().createElement("button",{className:"hide",onClick:o("./")},"Go up (./)"),l().createElement("h4",null,"^/i"),l().createElement("div",{className:"flex-col max-width-md"},l().createElement("span",{"data-route":"i1"},"Child 2 (i1)"),l().createElement("span",{"data-route":"j/j0"},"G-Child 1 (j/j0)"),l().createElement("span",{"data-route":"j/j1"},"G-Child 2 (j/j1)"),l().createElement("div",{className:"flex-wrap"},l().createElement("span",{"data-route":"j/k/k0"},"G-G-Child 1 (j/k/k0)"),l().createElement("span",{"data-route":"j/k/k1"},"G-G-Child 2 (j/k/k1)"))),l().createElement("div",{className:"info-box max-width-md flex-wrap","data-route":"^j"},l().createElement("h4",null,"j"),l().createElement("span",{"data-route":"j0"},"G-Child 1 (j0)"),l().createElement("span",{"data-route":"j1"},"G-Child 2 (j1)"),l().createElement("span",{"data-route":"!j0"},"Not G-Child 1 (!j0)"),l().createElement("button",{className:"hide","data-route":"j0 j1",onClick:o("./k/k0")},"Relative button (./k/k0)"),l().createElement("div",{className:"info-box flex-wrap","data-route":"^k"},l().createElement("h4",null,"k"),l().createElement("span",{"data-route":"k0"},"G-G-Child 1 (k0)"),l().createElement("span",{"data-route":"k1"},"G-G-Child 2 (k1)"),l().createElement("button",{className:"hide","data-route":"k0 k1",onClick:o("../j0")},"Relative button (../j0)"))))),l().createElement("div",{className:"info-box max-width-md flex-col"},l().createElement("h3",null,"Exclusionary syntax"),l().createElement("span",{"data-route":"!/page1"},"Everywhere except Page 1"),l().createElement("span",{"data-route":"!/page2 !/i/i1"},"Everywhere except Page 2 or Child 2")),l().createElement("div",{className:"info-box max-width-md flex-col"},l().createElement("h4",null,"Target specific routes for styling"),l().createElement("span",{className:"red","data-route":"/i/i0"},"I'm red when inactive! (/i/i0)"),l().createElement("span",{className:"blue"},"I'm blue on Page 2")))))}c().hydrate(l().createElement(x,null),document.getElementById("app"))}()}();
//# sourceMappingURL=main.871bbec9627a10fb5cee.js.map